webpackJsonp([1],{"1pGX":function(e,a){},NHnr:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("7+uW"),o=t("Xxa5"),s=t.n(o),r=t("exGp"),l=t.n(r),i=t("mtWM"),p=t.n(i),c={name:"s3uploader",data:function(){return{image:"",uploadURL:""}},methods:{onFileChange:function(e){var a=e.target.files||e.dataTransfer.files;a.length&&this.createImage(a[0])},createImage:function(e){var a=this,t=new FileReader;t.onload=function(e){return console.log("length: ",e.target.result.includes("data:image/jpeg")),e.target.result.includes("data:image/jpeg")?e.target.result.length>1e6?alert("Image is loo large - 1Mb maximum"):void(a.image=e.target.result):alert("Wrong file type - JPG only.")},t.readAsDataURL(e)},removeImage:function(e){console.log("Remove clicked"),this.image=""},uploadImage:function(){var e=l()(s.a.mark(function e(a){var t,n,o,r,l,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Upload clicked"),e.next=3,p()({method:"GET",url:"https://k5y741pgj8.execute-api.us-east-2.amazonaws.com/beta"});case 3:for(t=e.sent,console.log("Response: ",t.data),console.log("Uploading: ",this.image),n=atob(this.image.split(",")[1]),o=[],r=0;r<n.length;r++)o.push(n.charCodeAt(r));return l=new Blob([new Uint8Array(o)],{type:"image/jpeg"}),console.log("Uploading to: ",t.data.uploadURL),e.next=13,fetch(t.data.uploadURL,{method:"PUT",body:l});case 13:i=e.sent,console.log("Result: ",i),this.uploadURL=t.data.uploadURL.split("?")[0];case 16:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()}},u={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"hello"},[t("h1",[e._v("S3 Uploader Test")]),e._v(" "),e.image?t("div",[t("img",{attrs:{src:e.image}}),e._v(" "),e.uploadURL?e._e():t("button",{on:{click:e.removeImage}},[e._v("Remove image")]),e._v(" "),e.uploadURL?e._e():t("button",{on:{click:e.uploadImage}},[e._v("Upload image")])]):t("div",[t("h2",[e._v("Select an image")]),e._v(" "),t("input",{attrs:{type:"file"},on:{change:e.onFileChange}})]),e._v(" "),e.uploadURL?t("h2",[e._v("Success! Image uploaded to:")]):e._e(),e._v(" "),t("a",{attrs:{href:e.uploadURL}},[e._v(e._s(e.uploadURL))])])},staticRenderFns:[]};var d={name:"App",components:{s3uploader:t("VU/8")(c,u,!1,function(e){t("z7gp")},"data-v-53577716",null).exports}},g={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{attrs:{id:"app"}},[a("img",{attrs:{id:"logo",src:"https://s3.us-east-2.amazonaws.com/askjames/space-invader.jpg"}}),this._v(" "),a("s3uploader")],1)},staticRenderFns:[]};var m=t("VU/8")(d,g,!1,function(e){t("1pGX")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:m},template:"<App/>"})},z7gp:function(e,a){}},["NHnr"]);
//# sourceMappingURL=app.9d84fd461d9dc03acb83.js.map